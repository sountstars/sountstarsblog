{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{394:function(s,t,a){s.exports=a.p+\"assets/img/jenkins_1.821a89b0.jpg\"},395:function(s,t,a){s.exports=a.p+\"assets/img/jenkins_2.fba47202.jpg\"},396:function(s,t,a){s.exports=a.p+\"assets/img/jenkins_3.8f0c6024.jpg\"},397:function(s,t,a){s.exports=a.p+\"assets/img/webhooks.c37ae2c7.jpg\"},398:function(s,t,a){s.exports=a.p+\"assets/img/new_token.5d99415f.jpg\"},399:function(s,t,a){s.exports=a.p+\"assets/img/build_environment.65727024.jpg\"},400:function(s,t,a){s.exports=a.p+\"assets/img/build_command.fd5708e1.jpg\"},401:function(s,t,a){s.exports=a.p+\"assets/img/publish_ssh.f703a9e7.jpg\"},402:function(s,t,a){s.exports=a.p+\"assets/img/send_build.f441d5e5.jpg\"},448:function(s,t,a){\"use strict\";a.r(t);var e=a(46),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[e(\"h1\",{attrs:{id:\"jenkins自动化部署\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#jenkins自动化部署\"}},[s._v(\"#\")]),s._v(\" Jenkins自动化部署\")]),s._v(\" \"),e(\"h3\",{attrs:{id:\"安装插件\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#安装插件\"}},[s._v(\"#\")]),s._v(\" 安装插件\")]),s._v(\" \"),e(\"p\",[s._v(\"系统管理->插件管理->高级->升级的站点\")]),s._v(\" \"),e(\"div\",{staticClass:\"language-js extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[e(\"code\",[s._v(\"Generic Webhook Trigger  \"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"//web触发器\")]),s._v(\"\\n\\nPublish Over \"),e(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"SSH\")]),s._v(\"  \"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"//通过ssh部署服务器\")]),s._v(\"\\n\\nnvm wrapper   \"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"//提供node环境 \")]),s._v(\"\\n\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"//这个我没装\")]),s._v(\"\\nRole\"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"based Authorization Strategy\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"//增加用户的权限管理\")]),s._v(\"\\n\\n\")])])]),e(\"h3\",{attrs:{id:\"添加项目\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#添加项目\"}},[s._v(\"#\")]),s._v(\" 添加项目\")]),s._v(\" \"),e(\"p\",[s._v(\"新建一个任务[name]->构架一个自由风格的项目->确定\\n\"),e(\"img\",{attrs:{src:a(394),alt:\"solar\"}})]),s._v(\" \"),e(\"ul\",[e(\"li\",[s._v(\"源代码->git->https://github.com/sountstars/sountstarsblog.git\")]),s._v(\" \"),e(\"li\",[s._v(\"添加权限【git 的用户名和密码\")]),s._v(\" \"),e(\"li\",[s._v(\"构建触发器(Generic Webhook Trigger)\")]),s._v(\" \"),e(\"li\",[s._v(\"应用保存\")])]),s._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:a(395),alt:\"solar\"}}),s._v(\" \"),e(\"img\",{attrs:{src:a(396),alt:\"solar\"}})]),s._v(\" \"),e(\"h3\",{attrs:{id:\"配置webhook\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#配置webhook\"}},[s._v(\"#\")]),s._v(\" 配置webhook\")]),s._v(\" \"),e(\"p\",[s._v(\"此时可以构建了，但是需要在还给Git中添加Webhooks，否则不能自动化构建\\n\"),e(\"img\",{attrs:{src:a(397),alt:\"solar\"}})]),s._v(\" \"),e(\"p\",[e(\"code\",[s._v(\"http://JENKINS_URL/generic-webhook-trigger/invoke\")])]),s._v(\" \"),e(\"p\",[s._v(\"JENKINS_URL格式为 用户名:\"),e(\"code\",[s._v(\"http://admin:token@服务器ip:8081/generic-webhook-trigger/invoke\")])]),s._v(\" \"),e(\"p\",[e(\"strong\",[s._v(\"token生成位置\")]),s._v(\" \"),e(\"img\",{attrs:{src:a(398),alt:\"solar\"}})]),s._v(\" \"),e(\"h3\",{attrs:{id:\"构建\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#构建\"}},[s._v(\"#\")]),s._v(\" 构建\")]),s._v(\" \"),e(\"p\",[s._v(\"-> 下拉任务名字->配置->构建环境（选中Run the build in an NVM managed environment，【我们自己下载的插件提供node环境】）\\n-> 输入node的版本号->构建->选择shell\\n\"),e(\"img\",{attrs:{src:a(399),alt:\"solar\"}})]),s._v(\" \"),e(\"p\",[e(\"strong\",[s._v(\"构建时候执行命令\")])]),s._v(\" \"),e(\"p\",[e(\"code\",[s._v(\"这里不能执行mv命令\")])]),s._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:a(400),alt:\"solar\"}})]),s._v(\" \"),e(\"div\",{staticClass:\"language-js extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[e(\"code\",[s._v(\"cd \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"/\")]),s._v(\"home\"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"/\")]),s._v(\"wwwroot\\ntar \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"xzvf dist\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"tar\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"gz \\nrm \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"rf dist\\nmv \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"f docs\"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"/\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"vuepress\"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"/\")]),s._v(\"dist\"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"/\")]),s._v(\"  \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"/\")]),s._v(\"\\n\")])])]),e(\"h3\",{attrs:{id:\"post-build-actions-的ssh-sercer-name-添加-添加服务器的私钥\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#post-build-actions-的ssh-sercer-name-添加-添加服务器的私钥\"}},[s._v(\"#\")]),s._v(\" Post-build Actions 的SSH Sercer Name 添加(添加服务器的私钥)\")]),s._v(\" \"),e(\"p\",[s._v(\"系统管理->系统设置->Publish over SSH\\n\"),e(\"code\",[s._v(\"username 生成密钥的账户\")]),s._v(\" \"),e(\"img\",{attrs:{src:a(401),alt:\"solar\"}})]),s._v(\" \"),e(\"p\",[e(\"strong\",[s._v(\"配置免费登录（同一台也要）\")]),s._v(\" \"),e(\"code\",[s._v(\"这里不配置免登录，在部署的时候，找不到要部署的服务器\")]),s._v(\"\\nssh-keygen -t rsa\\nssh-copy-id \"),e(\"code\",[s._v(\"IP\")])]),s._v(\" \"),e(\"h3\",{attrs:{id:\"构建后操作\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#构建后操作\"}},[s._v(\"#\")]),s._v(\" 构建后操作\")]),s._v(\" \"),e(\"p\",[s._v(\"下拉任务名字->配置->构建后操作->Send build artifacts over SSH\\n\"),e(\"img\",{attrs:{src:a(402),alt:\"solar\"}})])])}),[],!1,null,null,null);t.default=r.exports}}]);","extractedComments":[]}